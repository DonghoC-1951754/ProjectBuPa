---
title: "Project BUPA"
author: "Lina Willekens"
date: "2024-11-27"
output: html_document
---

```{r setup, include=FALSE}
# load packages
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggcorrplot)
library(tinytex)
library(stringr)
library(tidyverse)
library(pander)
library(lubridate)
library(mice)
library(plotly)
library(readr)
library(bupaR)
library(eventdataR)
library(xesreadR)
library(edeaR)
library(processmapR)
library(processmonitR)

#install.packages("bupaR")
#install.packages("eventdataR")
#install.packages("xesreadR")
#install.packages("edeaR")
#install.packages("processmapR")
#install.packages("processmonitR")


# load data / source loadscript
data <- read_csv("data.csv")


data %>%
  group_by(`case GR-Based Inv. Verif.`) %>%
  summarise(aantal = n())

data %>%
  group_by(`case Goods Receipt`) %>%
  summarise(aantal = n())

data %>%
  group_by(`case Document Type`) %>%
  summarise(aantal = n())

data <- data %>%
  mutate(lifecycle_id = "complete")

data$`event time:timestamp` <- dmy_hms(data$`event time:timestamp`)

summary(data)

bupaR::simple_eventlog(eventlog = data, case_id = "case Item", activity_id = "eventID", timestamp = "event time:timestamp")

eventlog <- data %>%
  eventlog(
    case_id = "case Item",         # Kolomnaam voor case ID
    activity_id = "eventID", # Kolomnaam voor activiteit
    timestamp = "event time:timestamp",
    activity_instance_id = "event concept:name",
    lifecycle_id = "lifecycle_id",
    resource_id = "event org:resource"
  )

bupaR::eventlog(eventlog = data,
                case_id = "case Company",
                activity_id = "eventID",
                timestamp = "event time:timestamp")
```

